1549. 跳舞机2

题目描述
自从参加了街舞大赛当了评委之后，四字弟弟的舞蹈技能一下子惊艳了众人还频频登上热搜排行榜。这也让很多舞林人士很不服气。某一天，一个蒙面人来找四字弟弟挑战，他拿出了一台年纪比弟弟还大的机器，问弟弟敢不敢挑战？只见这机器长得仿佛是个巨大的体重计，一个屏幕连着一个巨大的踏板。弟弟问：这是什么？那人说，这就是传说中——跳舞机！最早的跳舞机英文名为DanceDanceRevolution，也就是“舞蹈革命”，简称DDR。是一种音乐节奏类型的游戏机，与传统的电子游戏的最大差别，在于传统的电玩使用遥控杆加按键或四键手柄，而跳舞机是用玩家的双脚来完成游戏。&nbsp;一首歌开始后，屏幕画上，会不断滚动出现上、下、左、右的箭头，当箭头移到与顶部箭头框重合的位置时，玩家必须用脚踩对应踏板。例如箭头向左，则踩左方踏板，如此类推地跟着跳，如果踩到踏板和箭头提示的不一样，为失败；如果正确地踏到踏板，即为成功。单纯的四字弟弟欣然接受了挑战。殊不知他虽然街舞跳得好，popping，breaking都不在话下，但是第一次跳DDR却显然不太在行，有时完全靠运气:(我们来简化一下这个游戏的规则: 每踩到一个踏板作为1次点击，一首歌的时间内一共有n次点击要做，成功了就是o，失败了就是x，分数是按combo计算的，连续k个combo就有k*k*k分，combo就是极大的连续o。比如ooxxxxooooxxx，分数就是2*2*2+4*4*4=8+96=104。&nbsp;在一首歌的n次点击里，已知第i次点击的成功概率为p[i]，那么四字弟弟跳玩这首曲子的期望得分是多少呢？

输入输出格式
输入格式
输入文件ddr2.in
输入第一行为正整数n，n<=100000。接着n行每行一个浮点数，依次代表各个点击的成功概率。
输出格式
输出文件ddr2.out
输出一个浮点数，保留1位小数。
输入输出文件
ddr2

输入输出样例
输入样例#1：3
0.5
0.5
0.5
输出样例#1：6.0
【样例说明】xxx分数为0，xxo分数为1，xox分数为1，oxx分数为1，oxo分数为2，oox分数为8，xoo分数为8，ooo分数为27，总和为48，期望为48/8=6.0 

输入样例#1：
输出样例#1：


