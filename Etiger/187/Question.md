# $187$题目内容

## $Unit01$

### 求救 `maiev.cpp` $(3096)$

#### 问题背景
玛维-影歌在萨格拉斯之墓追捕伊利丹，可惜晚了一步，伊利丹已经拿到神器萨格拉斯之眼（完了，`BBQ`了）。伊利丹发动神器将整个墓地炸沉（`et850背叛者的愤怒`），玛维会闪烁技能勉强逃出（`et57守望者的逃离`），但她倒霉的部从们大部分都被活埋了`TT`（娜莎小姐姐：我冤啊~~）。逃出墓穴的玛维和少量手下又遭到伊利丹的娜迦大军围攻寡不敌众，只能派信使出海找德鲁伊首领求救

#### 问题描述
信使是个战五渣，好在娜莎小姐姐的遗物里有激光制导可编程式全自动回旋镖。众所周知女猎手的镖是可以弹射多个敌人的，娜莎小姐姐作为女猎手队长，自然更牛叉，她的每个镖可以预先设置好一个攻击序列，如$\{x_1, x_2, \dotsb , x_k\}$（注意必须保持顺序即$x_1 < x_2 < \dotsb < x_k$），镖就会自动依次攻击并杀死编号为$x_1, x_2, \dotsb , x_k$的敌人。因为复杂的内部原理，要求任意镖上设置的任意相邻编号之和$x_i + x_{i + 1}$必须具有奇数个约数，$i=1, \dots , k-1$。当然如果$k=1$那就相当于没有约束了
玛维面前有茫茫多的敌人，编号依次为$1,2,3, \dotsb $，娜莎小姐姐共留下$n$枚回旋镖。请问玛维如何设置这$n$枚镖，才能击杀来犯敌人的一个最长的前缀？每个敌人的编号只能设置在一个镖上，不可重复设置。具体说，求一个最大的$k$，使得$n$个镖上设置的所有编号不重复且并集正好是$1 \dotsb k$。玛维正被围攻危在旦夕，你必须在$1$秒之内解决问题

#### 简短问题描述
有$n$个顺序序列，相邻编号之和必须具有奇数个约数，求一个最大的$k$，使得所有序列的所有编号不重复且并集正好是$1 \sim k$

#### 输入格式
输入文件为`maiev.in`
只有一个正整数$n$

#### 输出格式
输出文件为`maiev.out`
一个正整数表示答案

#### 输入输出样例
##### 输入输出样例1
| `maiev.in` | `maiev.out` |
| :--------- | :---------- |
| `4`        | `11`        |

###### 说明
方案不一定唯一，如一种设置方法是：$\{1, 3, 6, 10\} \space \{2, 7, 9\} \space \{4, 5, 11\} \space \{8\}$

#### 数据规模与约定
- 对于$20\%$数据 $n \leq 5$
- 对于$50\%$数据 $n \leq 10$
- 对于$70\%$数据 $n \leq 100$
- 对于$100\%$数据 $n \leq 10000$

-----

### 平衡战局 `malfurion.cpp` $(3097)$

#### 问题背景
**冰雪聪明**的你合理设置了⻜镖，使信使及时突围找到了玛法里奥。玛同意立刻前往增援，他老婆泰兰德也要一起去。他们登陆破碎群岛时由于风向的原因有点偏航，到了一处满是树木挡路的滩头。好在玛法里奥会`自然之力`魔法，将树木变成树人，这样就能开出道路了

#### 问题描述
他们面前一共有$n$棵树，第$i$棵的高度为$h_i$。玛法里奥为在老婆面前炫耀魔法值多，把这$n$棵树全部变成了树人。树人的高度都和原来相同。泰兰德好面子，她希望把$n$棵树**划分成两组（玛组/泰组）**，分别排成一个欢迎队伍。每个树人必须分在其中一组，且要求每组的高度排序后都是等差数列（这样看着顺眼）。出于男女平等考虑，两组都不能为空，并且除非$n \leq 3$，否则两组都至少需要分$2$个；出于尊重老婆大人考虑，除非$n \leq 3$，否则玛组必须包含最低$3$个中的至少$2$个（根据抽屉原理至少有一组满足此条件）

#### 简短问题描述
一共有$n$个数，把$n$个数划分成玛组和泰组，每组的高度排序后都是等差数列，两组都不能为空，并且除非$n \leq 3$，否则
- 两组都至少包好$2$个数
- 玛组必须包含最低$3$个数中的至少$2$个

#### 输入格式
输入文件为`malfurion.in`
第$1$行$1$个正整数$n$
第$2$行$n$个正整数$h_1, \dotsb , h_n$

#### 输出格式
输出文件为`malfurion.out`
如无解，仅输出一个$-1$
否则输出$4$行
第$1$行一个正整数$A$表示玛组的树人个数
第$2$行$A$个正整数，表示玛组的各树人高度，从小到大排序
第$3$行一个正整数$B$表示泰组的树人个数
第$4$行$B$个正整数，表示泰组的各树人高度，从小到大排序
（正确的输出应满足$A + B = n$，且这$n$个数就是输入那些数）
在满足题述所有情况的时，如还有多组可行方案，输出**玛组排序后字典序最小值的那组解**

#### 输入输出样例

##### 输入输出样例1
| `malfurion.in`     | `malfurion.out`                    |
| :----------------- | :--------------------------------- |
| `4`<br />`1 3 2 4` | `2`<br />`1 2`<br />`2`<br />`3 4` |

##### 输入输出样例2
| `malfurion.in`           | `malfurion.out`                          |
| :----------------------- | :--------------------------------------- |
| `6`<br />`23 4 7 6 8 15` | `3`<br />`4 6 8`<br />`3`<br />`7 15 23` |

##### 输入输出样例3
| `malfurion.in`          | `malfurion.out` |
| :---------------------- | :-------------- |
| `6`<br />`1 2 3 7 9 10` | `-1`            |

#### 数据规模与约定
- 对于$20\%$数据 $n \leq 15$
- 对于$50\%$数据 $n \leq 300$
- 对于$100\%$数据 $2 \leq n \leq 100000;$ $1 \leq h_i \leq 1000000000$

-----

### 分崩的联盟 `kaelthas.cpp`

#### 问题背景
在德鲁伊的帮助下顺利攻占伊利丹的营地，但是伊利丹本人却不见踪影。玛法里奥决定到树林里练瑜伽，从而实现与大自然交流。玛维和泰兰德在附近调查伊利丹的去向，却不期而遇精灵王子卡尔赛斯。卡尔说他的部族收到附近亡灵族攻击，正带着金银细软搬迁，玛维答应帮助卡尔护送车队，条件是事成之后卡尔帮助一起追寻伊利丹

#### 问题描述
车队共有$m$辆豪华运货大卡车，每辆车由于载重、马力、司机素质等不同，行进速度也不同。卡尔原计划中，第$i$辆车将在$b_i$时刻到达目的地。车上装有$n$种不同物资，如⻩金、土豆、冰淇淋、核酸试剂等，第$i$种物资的保质期截止$t_i$时刻。由于每种物资都杂乱分散在各辆车上，只有卡车都到达目的地时，物资才没有损失（目的地有冰柜）；如最后一辆卡车到达时间为$T$，则第$i$种物资的过期损耗会造成$C \times max(T - t_i, 0)$单位的代价。由于玛维他们的加入，可以设法减小代价
1. 玛维可以利用闪烁魔法，将某卡车$i$上部分物资搬运到某卡车$j$，使$i$的到达时间$-1$，$j$的到达时间$+1$。由于这过程中玛维会踩坏一些物资，每使用一次会额外造成$A$单位代价
1. 泰兰德释放强~~基~~击魔法，强迫某卡车$i$的到达时间$-1$。但会招致司机大为不满而怒砸部分物资，每使用一次会额外造成$B$单位代价
玛和泰的魔法值都无限多，不需顾及释放魔法的次数。求一种方案使总代价最小。亡灵大军正在后面穷追，时间紧迫，你必须在$1$秒之内解决问题

#### 输入格式
输入文件为`kaelthas.in`
第$1$行$3$个非负整数$A, B, C$
第$2$行$2$个正整数$n, m$
第$3$行$n$个正整数
第$4$行$m$个正整数

#### 输出格式
输出文件为`kaelthas.out`
一个整数表示答案

#### 输入输出样例

##### 输入输出样例1
| `kaelthas.in`                                          | `kaelthas.out` |
| :----------------------------------------------------- | :------------- |
| `100 100 2`<br />`4 5`<br />`5 1 2 3`<br />`1 1 2 3 3` | `6`            |

##### 输入输出样例1
| `kaelthas.in`                                          | `kaelthas.out` |
| :----------------------------------------------------- | :------------- |
| `3 5 4`<br />`5 6`<br />`1 1 4 7 8`<br />`2 3 3 1 8 2` | `33`           |

###### 说明
这个例子的最优解就是啥魔法也别放...
最晚到达时间是$T = 3$，物资$1, 4$均可在保质期内运达，不产生代价
物资$2$期望在时刻$1$运达，实际延迟$2$天；物资$3$延迟$1$天。总代价为$2 \times (2 + 1) = 6$
由于放魔法每次代价是$100$，显然越放越亏（卡尔：你们两个成事不足败事有余的家伙一边凉快去）

#### 数据规模与约定

- 对于$10\%$数据 $1 \leq n, m, t_i, b_i \leq 2000;$ $A = 10^9;$ $B = 10^9;$ $0 \leq C \leq 10^2$
- 对于$10\%$数据 $1 \leq n, m, t_i, b_i \leq 2000;$ $0 \leq A, C \leq 10^2;$ $B = 10^9$
- 对于$20\%$数据 $1 \leq n, m, t_i, b_i \leq 2000;$ $0 \leq B \leq A \leq 10 ^ 2;$ $0 \leq C \leq 10^2$
- 对于$20\%$数据 $1 \leq n, m, t_i, b_i \leq 2000;$ $0 \leq A, B, C \leq 10 ^ 2$
- 对于$10\%$数据 $1 \leq n, m, t_i, b_i \leq 10^5;$ $0 \leq A, B \leq 10 ^ 2;$ $C = 10 ^ 16$
- 对于$30\%$数据 $1 \leq n, m, t_i, b_i \leq 10^5;$ $0 \leq A, B, C \leq 10 ^ 5$

-----

### 达拉然的废墟 `dalaran.cpp` $(3098)$

#### 问题背景
由于算`TE`了一个点，即将到达终点时被亡灵追上了。泰兰德施放大招`带你去看流星雨`英勇断后，不过她智商有限站在桥上放大招，结果流星雨砸塌了桥，虽然阻挡住追兵，自己也掉河里被冲走了（旁白希尔瓦娜斯：你就不会过了桥再放流星雨？）。玛法里奥经过神棍沟通，得知伊利丹正在诺森德用萨格拉斯之眼攻击世界之顶，试图摧毁冰封王座。玛维谎称泰兰德已经战死（其实是漂流失联），玛法里奥听说老婆挂了怒火中烧，愤然前往找伊利丹算账

#### 问题描述
伊利丹的魔法阵由$n$个娜迦法师组成，其中有$m$对法师之间通过灵魂锁链魔法连接，保证连接不会形成回路。所有法师都出于虚无状态，对任何物理攻击免疫。众所周知玛维的大部分攻击手段都是物理攻击，唯一魔法伤害技能是毒镖（的毒），所以只能利用毒镖扎扎扎。第$i$个娜迦法师魔防为$D_i$，也就是玛维必须消耗$D_i$单位魔法才能将其扎死。当且仅当一组灵魂锁链两侧的法师都阵亡，这组魔法才会被破坏掉。由于上一题闪烁过于肆无忌惮，玛维只剩下$S$点魔法值，请问至多可使多少个法师被扎死且至少有一组与之相邻的灵魂锁链被破坏？即如某法师自己挂了，但与其（直接）连接的其他法师都健在，则此法师不贡献答案。特别地，如果一个法师没有与任何人直接连接，则其一定不会贡献到答案。世界之顶很快就要爆掉了，你必须在$1$秒之内解决问题

#### 输入格式
输入文件为`dalaran.in`
第$1$行$2$个整数$n, m$
第$2$行$n$个正整数$D_1 \dotsb D_n$
后面$m$行每行$2$正整数$A_i, B_i$，表示一组灵魂锁链连接的法师编号，$A_i \neq B_i$
下一行一个正整数$Q$表示问询个数
后面$Q$行每行$1$个正整数$S_i$，表示第$i$组问询中玛维的魔法值上限

#### 输出格式
输出文件为`dalaran.out`
$Q$行每行一个非负整数表示对应问询的答案
$Q$组问询互相独立

#### 输入输出样例

##### 输入输出样例1
| `dalaran.in`                           | `dalaran.out` |
| :------------------------------------- | :------------ |
| `1 0`<br />`1000`<br />`1`<br />`1000` | `0`           |

##### 输入输出样例2
| `dalaran.in`                                                                 | `dalaran.out`         |
| :--------------------------------------------------------------------------- | :-------------------- |
| `3 2`<br />`1 2 3`<br />`1 2`<br />`1 3`<br />`3`<br />`2`<br />`3`<br />`5` | `0`<br />`2`<br />`2` |

#### 数据规模与约定
对于$20\%$数据 $m = n - 1;$ $S_i \leq 1000$ 保证每个法师至多与$2$个其他法师连接
对于$50\%$数据 $m = n - 1$ 保证每个法师至多与$2$个其他法师连接
对于$30\%$数据 $n \leq 100$
对于$100\%$数据 $0 \leq m < n \leq 1000;$ $Q \leq 200000;$ $D_i, S_i \leq 1e9$

-----

## $Unit02$

### 凑大数 `collection.cpp` $(3077)$

#### 问题描述
有$n$个正整数，都是完全平方数，他们具体是多少没有人知道，但是他们的总和是已知的。给定$S$，表示若干完全平方数的总和，请你找出$n$个数，使得他们的和恰好等于$S$。每个数都必须是$1 \sim 50$中的完全平方数，也就是集合$\{1, 4, 9, 16, 25, 36, 49\}$中的数字。由于方案数过多，只要求一个方案使得$n$最小，输出最小的$n$即可

#### 输入格式
输入文件为`collection.in`
输入一个正整数$S$

#### 输出格式
输出文件为`collection.out`
输出一个正整数，表示最小的$n$

#### 输入输出样例

##### 输入输出样例1
| `collection.in` | `collection.out` |
| :-------------- | :--------------- |
| `100`           | `4`              |

###### 说明
最少需要$4$个小于$50$的完全平方数数使得他们的和恰好等于$100$，总共有三种本质不同的方案$100 = 1 + 1 + 49 + 49, 100 = 25 + 25 + 25 + 25, 100 = 1 + 49 + 25 + 25$

##### 输入输出样例2
| `collection.in` | `collection.out` |
| :-------------- | :--------------- |
| `35`            | `3`              |

###### 说明
$35 = 1 + 9 + 25$

#### 数据规模与约定
对于$60\%$数据 $S \leq 200$
对于$100\%$数据 $S \leq 10^{18}$

-----

### 建大楼 `building.cpp` $(3078)$

#### 问题描述
你家村子门口准备建造一幢未来主义大楼，村长找到了全村唯一的大学生，也就是你，来进行设计。大楼的建造费用来自村民们的捐赠，捐赠者共有$n$位村民，每位捐赠者可以命名一个楼层，并且该楼层的装修用料的重量会和该村民的捐赠额度紧密相关。由此规则，你算出了$n$个数字，代表$n$个楼层的重量，编号$1$到$n$，其中$w_{i}$代表第$i$位村民命名的楼层的重量。建筑工人们会先将这些楼层独立建造完成，最后再吊装叠放组成未来主义大楼。为了结构的稳定性，如果$i$号楼层紧贴着$j$号楼层上方叠放，要求$w_{i} \leq w_{j} + d$。请问共有几种可能的叠放方案，输出方案数对$1000000009$取模

#### 输入格式
输入文件为`building.in`
输入第一行为正整数$n$和$d$
接着$1$行包含$n$个正整数，代表$w_{i}$

#### 输出格式
输出文件为`building.out`
输出共$1$个整数

#### 输入输出样例

##### 输入输出样例1
| `building.in`        | `building.out` |
| :------------------- | :------------- |
| `4 1`<br />`1 2 9 3` | `4`            |

###### 说明
从低到高每层重量的四种方案：$(9, 1, 2, 3), (9, 3, 2, 1), (9, 3, 1, 2), (9, 2, 3, 1)$

##### 输入输出样例2
| `building.in`      | `building.out` |
| :----------------- | :------------- |
| `3 2`<br />`4 6 8` | `4`            |

###### 说明
从低到高每层重量的四种方案：$(4, 6, 8), (8, 4, 6), (6, 8, 4), (8, 6, 4)$

##### 输入输出样例3
| `building.in`    | `building.out` |
| :--------------- | :------------- |
| `2 1`<br />`5 5` | `2`            |

#### 数据规模与约定
测试数据共20组
对于$5\%$数据 所有重量都一致
对于$10\%$数据 $d = 1$
对于$45\%$数据 $n \leq 30$
对于$100\%$数据 $n \leq 250000;$ $d \leq 30000;$ $w_{i} \leq 1000000000$

-----

### 找大伙 `friends.cpp` $(3079)$

#### 问题描述
你家村子准备派队伍参加宇宙绘画大赛，村长召集大伙儿踊跃报名，共有$n$名候选人前来报名，你作为领队需要挑选若干人组队参赛。目前$n$个人一字排开，编号依次为$0$到$n - 1$。第$i$人最喜欢的颜色用整数$x_{i}$表示。合法的组队要求选出来的人选编号必须连续，并且他们喜欢的颜色不能有重复。现在有$m$个问询，每个问询会询问从$a$号到$b$号人选中挑选，最多可以选出几人组队？

#### 输入格式
输入文件为`friends.in`
输入第一行为正整数$n$和$m$
接着$1$行包含$n$个整数，代表$x_{i}$
接着$m$行每行两个整数表示$a$和$b$ $0 \leq a \leq b \leq n - 1$

#### 输出格式
输出文件为`friends.out`
输出$m$行每行$1$个整数

#### 输入输出样例

##### 输入输出样例1
| `friends.in`                                          | `friends.out` |
| :---------------------------------------------------- | :------------ |
| `9 2`<br />`2 5 4 -1 2 3 6 2 4`<br />`0 8`<br />`2 6` | `6`<br />`5`  |

###### 说明
$(5, 4, -1, 2, 3, 6)$长度为$6$，$(4, -1, 2, 3, 6)$长度为$5$

#### 数据规模与约定
对于$20\%$数据 所有人喜欢的颜色种类不超过$2$种
对于$30\%$数据 $n \leq 100;$ $m \leq 100$
对于$100\%$数据 $n \leq 100000;$ $m \leq 100000;$ $|x_{i}| \leq 1000000$

-----

### 修大屏 `led.cpp` $(2119)$

#### 问题描述
你家村子门口有配备一台`LED`大屏幕显示器用于发布全村的通知，但是最近发生了故障。于是村长找到了全村唯一的大学生，也就是你，来进行维修，希望得到一块能正常工作的尽量大的矩形区域。你通过检查发现，一共有$m$行$n$列个格子的点阵，每格有一个`LED`发光元器件。为了检查哪个格子能正常使用，以及哪个格子发生故障，你使用一张全白的图片铺满整个屏幕，正常的格子可以发出白光用$1$表示有光，故障的格子会保持黑色用$0$表示没有光。你记录下共$m$行$n$列的$01$矩阵信息，然后去找村长研究维修方案。村长从仓库里拿出了原装的几个零配件用于替换故障零件，有$s$根整条`LED`可以用于整行替换，以及$t$个零散格子可以单独替换。只依靠这些零件替换屏幕的格子，能得到的正常工作的矩形区域最大包含几个格子？

#### 输入格式
输入文件为`led.in`
输入第一行为正整数$m, n$和非负整数$s, t$
接着$m$行$n$列个$01$数据

#### 输出格式
输出文件为`led.out`
输出共$1$个整数

#### 输入输出样例

##### 输入输出样例1
| `led.in`                                                                                                           | `led.out` |
| :----------------------------------------------------------------------------------------------------------------- | :-------- |
| `5 7 1 1`<br />`1 1 1 1 1 0 0`<br />`0 0 0 0 0 1 1`<br />`1 1 1 0 1 0 0`<br />`1 1 1 1 1 0 1`<br />`1 1 1 1 1 1 1` | $25$      |

###### 说明
将第二行替换，再替换第3行第4列。

##### 输入输出样例2
| `led.in`                                                              | `led.out` |
| :-------------------------------------------------------------------- | :-------- |
| `4 4 3 4`<br />`0 0 0 0`<br />`0 0 0 0`<br />`0 0 0 0`<br />`0 0 0 0` | $16$      |

#### 数据规模与约定
对于$10\%$数据 $s = 0;$ $t = 0$
对于$40\%$数据 $m \leq 10;$ $n \leq 10$
对于$100\%$数据 $m \leq 300;$ $n \leq 300;$ $s \leq 300;$ $t \leq 100000$

-----

## $Unit03$

### 误解 `garithos.cpp` $(3099)$

#### 问题背景
卡尔赛斯安顿好卡车财物后，便返回人类联盟基地汇合。元帅加里瑟斯正在组织抵抗来自银松森林方向的不死族进攻，并试图光复达拉然。加里瑟斯对卡尔的迟到非常不满，罚他留在基地干体力活，修理损坏了瞭望塔

#### 问题描述
联盟营地共有$n$个（坏了的）瞭望塔，坐标分别为，不过木材资源有限，只能修复其中三座$A, B, C$。卡尔从塔$A$出发，然后到塔$B$，然后到塔$C$逐个修复，最后再返回塔$A$出发点。人族营地是很讲究建筑学的，只有横平竖直的道路可通，故两点$i, j$的距离为$|x_i - x_j| + |y_i - y_j|$。为给卡尔穿小鞋（人类领导的常见职业习惯），加里瑟斯希望选特定$3$座瞭望塔，使卡尔运动的总距离最大

#### 简短问题描述
一个点集选出三个点，使得包含他们的最小格点矩形周长最长

#### 输入格式
输入文件为`garithos.in`
第$1$行一个正整数$n$
后面$n$行每行$2$个整数

#### 输出格式
输出文件为`garithos.out`
一个整数表示卡尔运动距离的最大值

#### 输入输出样例

##### 输入输出样例1
| `garithos.in`                                             | `garithos.out` |
| :-------------------------------------------------------- | :------------- |
| `5`<br >`0 0`<br >`1 1`<br >`1 -1`<br >`-1 -1`<br >`-1 1` | `8`            |

#### 数据规模与约定
对于$20\%$数据 $n \leq 100$
对于$40\%$数据 $n \leq 1000$
对于$100\%$数据 $3 \leq n \leq 100000;$ $|x_i|, |y_i| \leq 10^9$

-----

### 地牢 `vashj.cpp` $(3100)$

#### 问题背景
卡尔很郁闷，卡尔很生气，卡尔很无奈...缺德的加里瑟斯找的塔不仅距离远，其中还有一个位于河心小岛上，而加里瑟斯又没给提供船只（一般领导想炒你鱿鱼又不想付赔偿金，往往就会这样）。精灵也有不会游泳的，比如卡尔...于是加里瑟斯就以延误工期为名把卡尔关进了地牢，明日午时处决（额，政治斗争）。紧要关头娜迦队长法斯琪女士带着一队娜迦来营救，她大喊一声`呔！刀下留人`，她煽动卡尔背弃傲慢的加里瑟斯投靠伊利丹。卡尔权衡利弊后决定接受，但希望解救地牢中的其他血精灵同胞后一起逃走。法斯琪说：`As You Wish`

#### 问题描述
地牢是一个树形，但由于战争迷雾影响，开始他们并不知道树的具体结构。初始时卡尔和法斯琪位于的牢房可视为根节点。他们进行了总共$Q$次两类操作
1. 法斯琪利用带着的一个水晶球施放探照技能探照一个已知牢房$x$，并发现一个新牢房（牢房即以发现顺序依次编号，根节点为$1$，后面依次发现的编号$2, 3, 4, \dotsb $），同时知道新发现的牢房与$x$有长度为$y$的路径连接
2. 卡尔利用虚无魔法（使自己不受物理攻击）在已知部分地牢中行走救人。他需要从地牢$a$出发走到以地牢$b$为根的子树（包括$b$）内一个到$a$距离最大的牢房。由于地牢奇怪的魔法结界笼罩，一条路径长度等于所经各边边长的异或和求每次卡尔行走的路径长度

#### 输入格式
输入文件为`vashj.in`
第$1$行一个正整数$Q$
后$Q$行每行为如下两种之一，依次表示两种操作，具体含义如题面
- `Vashj x y`
- `Kael a b`

#### 输出格式
输出文件为`vashj.out`
若干行依次表示每次卡尔的路径长度

#### 输入输出样例

##### 输入输出样例1
| `vashj.in`                                                            | `vashj.out`  |
| :-------------------------------------------------------------------- | :----------- |
| `4`<br />`Vashj 1 5`<br />`Kael 1 1`<br />`Vashj 1 7`<br />`Kael 1 1` | `5`<br />`7` |

##### 输入输出样例2
| `vashj.in`                                                                                              | `vashj.out`  |
| :------------------------------------------------------------------------------------------------------ | :----------- |
| `6`<br />`Vashj 1 5`<br />`Vashj 2 7`<br />`Vashj 1 4`<br />`Vashj 4 3`<br />`Kael 1 1`<br />`Kael 2 4` | `7`<br />`2` |

#### 数据规模与约定
对于$10\%$数据 $Q \leq 200$
对于$30\%$数据 $Q \leq 2000$
对于$30\%$数据 $b = 1$
对于$100\%$数据 $Q \leq 200000;$ $\text{保证}x, a, b\text{是已发现的编号};$ $0≤y≤2^{30}$

-----

### 边缘 `magtheridon.cpp` $(3101)$

#### 问题背景
卡尔的血精灵部队跟随法斯琪的娜迦部队通过传送门来到伊利丹的所在，发现这是一个破碎荒凉的红色世界。伊利丹解释说这地方叫做边缘之地，由于他之前任务（攻击世界之顶）失败，受到发给他任务的~~黑社会~~大魔王基尔加丹追杀，只好跑到这犄⻆旮旯的地方避风头
但是这破地方也有地头蛇，一个叫马瑟萨里斯的深渊领主占据此地，并通过远古留下的传送门召唤恶魔来增强自身实力。伊利丹想要躲的安稳，必须关闭传送门然后击败马瑟萨里斯

#### 问题描述
关闭传送门的方法也不难，只要输入正确密码即可（不支持指纹解锁）。在传送门边上有一排$n$个皮卡丘（？？），第$i$个皮卡丘身上写着数字$A_i$。法斯琪拜`(wei)`访`(bi)`当地德莱尼族隐士阿卡玛，得知第$L$到第$R$个皮卡丘身上的数字连起来就是密码。但是狡猾的马瑟萨里斯之前对皮卡丘的顺序做过一些调整，于是卡尔又拜`(li)`访`(you)`阿卡玛得知正确的密码是$[L, R]$范围内取值之和较小的一种
现在伊利丹可以通过**swap**魔法每次互换第$i, j$个皮卡丘身上的数值，并会消耗$|i - j|$点魔法值。法斯琪和卡尔在跟阿卡玛的交涉过程中已经用完了魔法值（天知道他们怎么用的），伊利丹还剩$K$点魔法值。现在伊利丹只能尝试在有限魔法值下尽量使$A_L + \dotsb + A_R$尽量小

#### 输入格式
输入文件为`magtheridon.in`
第$1$行$4$个整数$n, L, R, K$
第$2$行$n$个整数表示初始数值排列

#### 输出格式
输出文件为`magtheridon.out`
一个正整数表示通过允许的操作使能达到的最小值

#### 输入输出样例

##### 输入输出样例1
| `magtheridon.in`       | `magtheridon.out` |
| :--------------------- | :---------------- |
| `3 2 2 1`<br />`1 2 3` | `1`               |

###### 说明
交换前$2$个值得：$2$ $1$ $3$，消耗$1$点魔法值，目标函数为$A_2 = 1$

##### 输入输出样例2
| `magtheridon.in`               | `magtheridon.out` |
| :----------------------------- | :---------------- |
| `6 4 6 100`<br />`1 2 3 4 5 6` | `6`               |

###### 说明
魔法值足够多，将$1, 2, 3$交换到第$4 \sim 6$个位置即可，目标函数为$A_4 + A_5 + A_6 = 6$

#### 数据规模与约定
对于$20\%$数据 $R = n \leq 13$
对于$50\%$数据 $R = n \leq 50$
对于$80\%$数据 $n \leq 50$
对于$100\%$数据 $1 \leq L \leq R \leq n \leq 100;$ $0 \leq K \leq 10000;$ $0 \leq A_i \leq 1000000$

-----

### 王者 `illidan.cpp` $(3102)$

#### 问题背景
关闭传送门后，马瑟萨里斯就无法补充新的兵源了。不过此魔多年积累的兵力也不容小视，伊利丹与他手下的血精灵和娜迦部队不得不经历一场硬仗，来确立边缘之地新的王者

#### 问题描述
根据阿卡玛提供的情报，马瑟萨里斯的兵力分布在共$n$个营地里，营地之间有$m$条**单向的**通道连接，以成掎⻆之势。马瑟萨里斯位于某个$u$号营地并一直待在那里进行遥控指挥（直到该营地被摧毁），如营地$v$与$u$之间可以（直接或间接）双向连通，则营地$v$就属于可控状态；否则营地$v$会进入混乱状态，其兵力会互相殴打直到同归于尽。伊利丹实力强横，所以战术也简单粗暴，他将从小到大依次到达每个兵营$i$，如当前$i$处于可控状态，则他就会释放**变身**大招并且彻底摧毁这个兵营，当然，与之连接的所有通道也就随之作废；如$i$处于混乱状态则他就会掏出一碗凉茶边喝茶边看戏，直到兵营自生自灭（同理兵营自毁后相邻道路作废）。注意根据规则$u$号营地一旦摧毁，所有其他营地则全部混乱。那么伊利丹一共需要变身几次才能摧毁所有营地？
这时法斯琪报告说，由于天气不好$or$侦查不到位，他们并不知道马瑟萨里斯的准确位置。于是伊利丹假设马瑟萨里斯以同等概率可能待在$1 \sim n$的任意个营地。于是伊利丹决定估算所有可能情况下如上答案的期望值乘以$n$以后的结果（一定是整数）
这时卡尔报告说，由于天气不好$and$侦查不到位，他们得知的地图可能有错。营地数是准确无误的但通道中的前$i$条可能是看花眼了，其实并不存在。$i$等概率地在$0 \sim m$中取值。于是伊利丹决定对所有可能的$i$值，依次求出前面的答案（$期望值 \times n$）

#### 输入格式
输入文件为`illidan.in`
第$1$行$2$个正整数$n, m$
后面$m$行每行$2$个正整数$xi, yi$，表示一条单向通道。保证没有自环和重边
各边按输入顺序自然编号为$1 \sim m$

#### 输出格式
输出文件为`illidan.out`
一行共$m + 1$个整数，依次表示前$i = 0, \dotsb , m$条路径不存在时，对应的答案（$i = 0$表示所有路径都存在）

#### 输入输出样例

##### 输入输出样例1
| `illidan.in`                                                            | `illidan.out`   |
| :---------------------------------------------------------------------- | :-------------- |
| `4 6`<br />`2 3`<br />`3 2`<br />`4 1`<br />`1 4`<br />`2 1`<br />`3 1` | `6 5 5 4 4 4 4` |

###### 说明
仅说明$i = 0$的情况，对于马瑟萨里斯可能位于营地$1, 2, 3, 4$伊利丹依次需要变身的营地分别$\{1\}, \{2\}, \{2, 3\}, \{1, 4\}$

#### 数据规模与约定
对于$16\%$数据 $n \leq 10;$ $m \leq 10$
对于$44\%$数据 $n \leq 100;$ $m \leq 2000$
对于$80\%$数据 $n \leq 1000;$ $m \leq 5000$
对于$100\%$数据 $2 \leq n \leq 1000;$ $m \leq 200000$

-----

## $Unit04$

### 平均工资 `income.cpp`

#### 问题描述
你所在的大学是一所一流高校，今年的毕业生都找到了很好的工作，毕业生在拿到工作录取后纷纷填写了问卷调查，告诉母校一年的工资是多少？截止到目前共收到$n$份信息，依次对应编号$1$号到$n$号，其中$i$号学生的工资为$x_{i}$元。你把这些信息制作成了一份电子表格，然后选中连续的若干人的工资数额，在电子表格中自动求平均工资，结果恰好为$A$。也就是说存在一个区间$[l, r]$，$1 \leq l \leq r \leq n$，使得$x_{l}, x_{l+1}, \dotsb , x_{r}$的平均数恰好是$A$。请问这样的区间可能有几个？

#### 输入格式
输入文件为`income.in`
输入第一行为正整数$n, A$
第二行为$n$个正整数代表$x_{i}$

#### 输出格式
输出文件为`income.out`
输出一个整数

#### 输入输出样例

##### 输入输出样例1
| `income.in`              | `income.out` |
| :----------------------- | :----------- |
| `6 2`<br />`1 2 3 3 2 1` | `5`          |

###### 说明
以下五个区间为结果：
- 区间$[2, 2]$中所有数为$\{2\}$ 平均数为$2$
- 区间$[5, 5]$中所有数为$\{2\}$ 平均数为$2$
- 区间$[1, 3]$中所有数为$\{1, 2, 3\}$ 平均数为$2$
- 区间$[4, 6]$中所有数为$\{3, 2, 1\}$ 平均数为$2$
- 区间$[1, 6]$中所有数为$\{1, 2, 3, 3, 2, 1\}$ 平均数为$2$

#### 数据规模与约定
对于$10\%$数据 $n \leq 1000;$ $所有人工资都一样$
对于$40\%$数据 $n \leq 1000$
对于$100\%$数据 $n \leq 300000;$ $x_{i} \leq 1000000000;$ $A \leq 1000000000$

-----

### 装机指南 `equipment.cpp`

#### 问题描述
别人所说的`装机`是指安装计算机，而在我看来，所谓的`装机`就是装飞机。当然了，我说的`装飞机`是什么意思，可能你也不明白，如果想知道其中的秘密，那你就听我慢慢道来吧。比如说昨天，我来到老朋友`Mike`家做客，他家仓库里有$n$箱导弹，其中第$i$个箱子里有$c_{i}$枚导弹，每一枚的攻击力为$f_{i}$，价格$v_{i}$。 `这批货不错的，小老弟，喜欢就随便挑。` `Mike`拍拍我的肩膀，酷酷地冲我说道。我的心里自然清楚这些都是质量上成地好货色，看到这么诱人的价格，我多多少少是有些心动的。因为作为一名军火商人，我手上有$m$份装机意向单，等待我去挑选完成：第$i$份意向单希望在飞机上安装$C_{i}$枚导弹，每一枚的攻击力至少要$F_{i}$，愿意支付给我$V_{i}$元。为了赚取尽可能多的利润：我可以接受一部分装机意向单，并采购几箱导弹，以满足所有接受了的意向单的需求。我的目标是最大化总利润，即收入减去购买本的差值

#### 输入格式
输入文件为`equipment.in`
输入第一行为正整数$n$
接下来$n$行，每行描述一箱导弹，包含三个正整数$c_{i}, f_{i}, v_{i}$
接下来一行为正整数$m$
接下来$m$行，每行描述意向单，包含三个正整数$C_{i}, F_{i}, V_{i}$

#### 输出格式
输出文件为`equipment.out`
仅一行一个整数，表示能够获得的最大总利润

#### 输入输出样例

##### 输入输出样例1
| `equipment.in`                                                                                                                                | `equipment.out` |
| :-------------------------------------------------------------------------------------------------------------------------------------------- | :-------------- |
| `4`<br />`4 2200 700`<br />`2 1800 10`<br />`20 2550 9999`<br />`4 2000 750`<br />`3`<br />`1 1500 300`<br />`6 1900 1500`<br />`3 2400 4550` | `350`           |

###### 说明
买$700 + 750$元的导弹，满足$300 + 1500$元的意向单

#### 数据规模与约定
对于$10\%$数据 $n \leq 15$
对于$10\%$数据 $m \leq 15$
对于$10\%$数据 $ci = Ci = 1$
对于$10\%$数据 $fi = Fi = 1$
对于$10\%$数据 $vi = Vi = 1$
对于$100\%$数据 $n, m \leq 2000;$ $ci, Ci \leq 50;$ $fi, Fi, vi, Vi \leq 1000000000$

-----

### 三人行 `three.cpp`

#### 问题描述
我是一个编程教练，受聘于太戈中学的编程社团作为指导老师。今年，$n$个新生参加编程社团，学生编号$1$到$n$，其中有$m$对学生是互相认识的。第$i$人的智商为$z_{i}$。如果$3$个人两两之间都互相认识，当他们聚集在一起时，就形成了`三人行`局面。众所周知，`三人行必有我师`，三人里智商最高的人可以做我`老师`！对于这种情况，我会记录下三人里最高智商的数值。对于所有可能的`三人行`局面，可以做我`老师`的智商数值总和是多少？

#### 输入格式
输入文件为`three.in`
输入第一行为正整数$n$和$m$
第二行为$n$个正整数代表$z_{i}$
接下去$m$行，每行两个数$a$和$b$，代表第$a$人和第$b$人互相认识，$1 \leq a \neq b \leq n$

#### 输出格式
输出文件为`three.out`
输出一个整数
若不能形成三人行，输出$0$

#### 输入输出样例

##### 输入输出样例1
| `three.in`                                                                                          | `three.out` |
| :-------------------------------------------------------------------------------------------------- | :---------- |
| `5 7`<br />`1 5 3 4 2`<br />`1 2`<br />`2 3`<br />`5 2`<br />`4 3`<br />`3 1`<br />`1 4`<br />`5 1` | `14`        |

###### 说明
三人组：$(1, 2, 3), (1, 2, 5), (1, 3, 4)$，最高智商为$5, 5, 4$

#### 数据规模与约定
对于$10\%$数据 $n = 3$
对于$20\%$数据 $3 \leq n \leq 200$
对于$100\%$数据 $3 \leq n \leq 100000;$ $m \leq 250000;$ $z_{i} \leq 1000000000$

-----

### 星际穿越 `interstellar.cpp`

#### 问题描述
宇宙编程大赛即将开赛，全宇宙的编程高手们纷纷会来到比赛现场。因为大家都来自于宇宙的各个角落，都是乘坐飞船瞬移到达会场，所以大赛组委会专门给飞船设置了到达区域，这是个三维空间，长宽高分别是$n, m, h$，也就是说空间内包含$n \times m \times h$的停船位。接下去会有$q$次操作，操作类型共有两种，形式如下：
- `1 x y z`表示在坐标$(x, y, z)$的停船位新来了一艘飞船。允许同一个停船位停泊多艘飞船
- `2 x y z`表示询问相对坐标$(x, y, z)$曼哈顿距离最近的已经达到的飞船的最近距离是多少

#### 输入格式
输入文件为`interstellar.in`
输入第一行为正整数$n, m, h, q$
接下来$q$行，每行一条操作信息，如题（$1 \leq x \leq n;$ $1 \leq y \leq m;$ $1 \leq z \leq n;$ $保证第一个操作不是问询$）

#### 输出格式
输出文件为`interstellar.out`
输出若干行，每行一个整数，对应所有问询的答案

#### 输入输出样例

##### 输入输出样例1
| `interstellar.in`                                                     | `interstellar.out` |
| :-------------------------------------------------------------------- | :----------------- |
| `3 4 5 4`<br />`1 1 1 1`<br />`2 2 2 2`<br />`1 3 4 5`<br />`2 2 3 3` | `3`<br />`4`       |

#### 数据规模与约定
对于$10\%$数据 $n = 1;$ $m = 1$
对于$30\%$数据 $h = 1$
对于$20\%$数据 $2 \leq q \leq 2000$
对于$100\%$数据 $n \times m \times h, q \leq 200000;$ $n, m, h \leq 1000$

-----

## $Unit05$

### 内战 `arthas.cpp` $(2109)$

#### 问题背景
阿尔萨斯带领天灾军团屠戮人类洛丹伦王国、魔法城市达拉然、高等精灵首都奎尔萨拉斯，一时⻛光无两。但阿尔萨斯的力量都来自巫妖王，所谓乐极生悲，伊利丹利用萨格拉斯之眼攻击冰封王座之后，虽没彻底成功，但大大损伤了巫妖王的法力，殃及阿尔萨斯的力量衰退。大量天灾军团力量脱离控制，手下女将希尔瓦娜斯也趁机叛离，燃烧军团的恐惧魔王们甚至计划干脆做掉阿尔萨斯算了。巫妖王则紧急托梦（？）指示阿尔萨斯回援诺森德自保。洛丹伦的势力一时又陷入纷繁混乱

#### 问题描述
阿尔萨斯要脱离洛丹伦前往北方海岸，但恐惧魔王已经组织了一条强大的封锁线`沙琪玛防线`，由$n$支天灾小队一字排开。每支小队由同种兵种组成，如食尸鬼、胖子、地穴恶魔等，一共不超过$26$种，以小写字母标识。由于力量衰弱，阿尔萨斯无法像以往那样轻松消灭整个防线。好在他忠实的女装大佬军师克尔苏加德没有背叛，他建议阿尔萨斯在防守最薄弱的一段战线上集中突围。一段战线是整个防线上连续的一个区间，其长度越长，突围越容易；而包含不同兵种数量越多，突围越困难（多兵种协同作战，弱点较少）。可定义战线的强度为该区间上兵种种类数除以长度的商。现在阿尔萨斯需要尽快找到强度最小的一段战线

#### 输入格式
输入文件为`arthas.in`
第$1$行一个正整数$n$
第$2$行一个长$n$的字符串，全由小写字母组成，表示整个防线的兵种分布

#### 输出格式
输出文件为`arthas.out`
一个实数表示最小的战线长度，保留$6$位小数（正确答案一定在$(0, 1]$范围内）

#### 输入输出样例

##### 输入输出样例1
| `arthas.in`     | `arthas.out` |
| :-------------- | :----------- |
| `4`<br />`abcd` | `1.000000`   |

##### 输入输出样例2
| `arthas.in`       | `arthas.out` |
| :---------------- | :----------- |
| `6`<br />`ananas` | `0.400000`   |

#### 数据规模与约定
对于$20\%$数据 $n \leq 100$
对于$40\%$数据 $n \leq 2000$
对于$20\%$数据 $字符串只包含ab$
对于$20\%$数据 $字符串只包含abcde$
对于$100\%$数据 $n \leq 100000$

-----

### 遗族 `sylvanas.cpp` $(3104)$

#### 问题背景
希尔瓦娜斯原先是高等精灵的游侠将军，在对抗阿尔萨斯入侵的战役中阵亡，灵魂被阿尔萨斯而成为其手下黑暗游侠。由于阿尔萨斯力量减弱，使希尔瓦娜斯摆脱了其控制而重新获得自由意志。她很想找阿尔萨斯复仇，但后者在克尔苏加德的帮助下成功逃离了洛丹伦前往诺森德。希尔瓦娜斯觉得趁洛丹伦混乱之际站稳自己的脚跟，而她的对手则包括加里瑟斯统领的人类幸存者势力，以及恐惧魔王统领的部分天灾军团势力，为此她制定了周密的计划

#### 问题描述
整个计划由$n$个关键事件组成，例如诈开寨门、释放催眠术、消灭某人族/恐惧魔王基地等。当然事件之间有一些前提关系，例如必须先打开寨门才能消灭基地。希尔瓦娜斯智商是很高的，不会搞出循环依赖之类情况，不过计划过于庞杂，有些地方未免会出现一些多余的依赖。例如事件$A$依赖$B$，而$B$又依赖$C$，则$A$自然（间接）依赖$C$，此时就不需要显式说明$A$依赖$C$了希尔瓦娜斯已经做好了初步方案，共包含$m$组依赖关系，甚至她已经拟好的执行顺序。现在希女王有点累了，所以她把方案交给了你，希望你做一些简化，尽可能去掉多余的依赖（当然不允许加新的依赖）。具体来说，你需要在$m$组现有依赖中选一个最小的子集，使得任何$2$个事件间有无（直接或间接）依赖保持不变

#### 输入格式
输入文件为`sylvanas.in`
第$1$行$2$个正整数$n, m$
后面$m$行每行$2$个整数$x, y$，表示事务$x$是事务$y$的前提条件

#### 输出格式
输出文件为`sylvanas.out`
一个正整数，表示最少保留的依赖数目

#### 输入输出样例

##### 输入输出样例1
| `sylvanas.in`                          | `sylvanas.out` |
| :------------------------------------- | :------------- |
| `3 3`<br />`1 2`<br />`2 3`<br />`1 3` | `2`            |

#### 数据规模与约定
对于$30\%$数据 $n \leq 10;$ $m \leq 20$
对于$60\%$数据 $n \leq 100;$ $m \leq 200$
对于$80\%$数据 $n \leq 1000;$ $m \leq 2000$
对于$100\%$数据 $n \leq 10000;$ $m \leq 20000;$ $1 \leq x \leq y \leq n$

-----

### 地下王国 `anubarak.cpp` $(3105)$

#### 问题背景
降服人类和恐惧魔王势力后，希尔瓦娜斯成为洛丹伦的新领主，她将其部族命名为遗族。与此同时阿尔萨斯也终于返回诺森德大陆，不幸的是伊利丹带领血精灵和娜迦已经抢先一步，正在前往冰霜峡谷的路上，凭正常行军阿尔萨斯肯定赶不上。好在巫妖王安排的留守阿努巴拉克及时出现，他告诉阿尔萨斯通过古老蜘蛛王国的地下捷径，也许可以让他们及时赶到。地下王国充满未知危险和机关埋伏，但阿尔萨斯别无选择

#### 问题描述
行进中遇到了一些之前穆拉丁手下的矮人幸存者，他们对阿尔萨斯心怀恨意。安排了很多炸弹阵来阻挡。一个炸弹阵由一排$n$个炸弹组成，第$i$个炸弹的类型为$a_i$。如引爆一个炸弹，其左右相邻的同类型的炸弹也会爆炸（相邻指某炸弹左/右侧尚未爆炸的最靠近的炸弹，与实际距离无关），并造成连锁反应。一次引爆最终效果是一段连续的极⻓的同类炸弹全部保证，设爆炸的炸弹总数为$x$，则这次引爆会造成的$x^2$总伤害（有一定的干涉加强效应）。注意一些炸弹爆炸后，剩余的原先不相邻的炸弹可能变得相邻
你是穆拉丁的忠实副官，你希望以某种顺序引爆所有炸弹，使产生的总伤害最大

#### 输入格式
输入文件为`anubarak.in`
第$1$行一个正整数$n$
第$2$行$n$个正整数$a_i$

#### 输出格式
输出文件为`anubarak.out`
一个整数表示可以造成的最大总伤害

#### 输入输出样例

##### 输入输出样例1
| `anubarak.in`                | `anubarak.out` |
| :--------------------------- | :------------- |
| `9`<br />`1 2 2 2 2 3 3 3 1` | `29`           |

#### 数据规模与约定
对于$30\%$数据 $n \leq 15$
对于$30\%$数据 $a_i \leq 2$
对于$100\%$数据 $1 \leq a_i \leq n \leq 100$

-----

### 冰与火的交响曲 `frostmourne.cpp` $3103$

#### 问题背景
巫妖王告诉阿尔萨斯由于冰封王座被震出一个缺口，所以之前他的力量流失了。好在阿尔萨斯及时赶回，现在巫妖王将其剩余的全部力量赐予阿尔萨斯，以进行与伊利丹的最终决战。在巫妖王的加持下，阿尔萨斯HP增加了$1e18$点，矮人的伤害没能阻止他的脚步，终于及时赶到冰霜峡谷。不过要进入冰封王座需要非常复`(dan)`杂`(teng)`的操作

#### 问题描述
冰封王座（在`xy平面`上看）是一个凸$n$边形，其中$n$是偶数。其$n \div 2$组对边（之间相隔$n \div 2 - 1$条其他边的两条边）形成一个魔法结界，结界的范围如下确定：作两条包含两条对边的直线，其将整个平面划分从$3 \sim 4$个区域（视对边平行与否）其中冰封王座（多边形）所在的那个区域就是这个结界的作用范围（包含边界）显然冰封王座本身就是$n \div 2$个结界的交集。伊利丹及其手下已经在这个区域内布下$Q$个营地，现在阿尔萨斯必须知道其中哪些营地位于在这些结界的并集内

#### 输入格式
输入文件为`frostmourne.in`
第$1$行一个正整数$T$，取值只有$0$或$1$，具体含义⻅下文
第$2$行一个正偶数$n$
后面$n$行每行$2$个整数$X_i, Y_i$，以逆时针顺序依次表示冰封王座的各顶点坐标。数据保证是一个凸多边形，并且没有相邻的$3$个点共线
后面$1$行一个正整数$Q$
后面$Q$行每行$2$个整数$A_i, B_i$
- 如$T = 0$ $A_i, B_i$就表示伊利丹的第$i$个营地的坐标
- 如$T = 1$ 设$C_i$为伊利丹的前$i$个营地中，有多少个在结界并集中（$C_i$要你自己求出，$C_0 = 0$），而第$i$个营地的坐标为$(A_i \oplus C_{i - 1}^3, B_i \oplus C_{i - 1}^3)$，表示按位异或（意思就是要强制在线啦）

#### 输出格式
输出文件为`frostmourne.out`
$Q$行每行一个字符串，如果营地$i$在结界并集中，输出`DA`，否则输出`NE`

#### 输入输出样例

##### 输入输出样例1
| `frostmourne.in`                                                                                                                                                 | `frostmourne.out`                                      |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------- |
| `0`<br />`6`<br />`-1 -1`<br />`2 -1`<br />`3 3`<br />`2 4`<br />`1 4`<br />`-2 1`<br />`6`<br />`2 2`<br />`3 0`<br />`1 -6`<br />`2 6`<br />`-5 5`<br />`5 10` | `DA`<br />`DA`<br />`NE`<br />`NE`<br />`NE`<br />`NE` |

###### 说明
如下图所示
![说明](https://s1.328888.xyz/2022/08/27/GJczy.png)

##### 输入输出样例2
| `frostmourne.in`                                                                                                                                                 | `frostmourne.out`                                      |
| :--------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------- |
| `0`<br />`6`<br />`-1 -1`<br />`2 -1`<br />`3 3`<br />`2 4`<br />`1 4`<br />`-2 1`<br />`6`<br />`2 2`<br />`3 0`<br />`1 -6`<br />`2 6`<br />`-5 5`<br />`5 10` | `DA`<br />`DA`<br />`DA`<br />`NE`<br />`NE`<br />`NE` |

#### 数据规模与约定
对于$20\%$数据 $n, Q \leq 2000$
对于$50\%$数据 $T = 0$
对于$100\%$数据 $1 \leq n;$ $Q \leq 100000;$ $T=0, 1;$ $|X_i|, |Y_i| \leq 10^9;$ $|A_i|, |B_i| \leq 2 \times 10^18$

-----

## $Unit06$

### 树上的青蛙 `guagua.cpp`

#### 问题描述
树上有一只青蛙，它想从某个起点的位置移动到目标位置。已知这棵树有$n$个关键节点，以及$n - 1$条边连接这些节点，保证这棵树的节点之间都是连通的。整棵树的根节点是$1$号节点，起点在$s$号节点，终点在$t$号节点。每个节点的深度定义为从该节点到根的路径上有几个节点。如果在树上邻居节点$u$和$v$之间的移动，每一步花费$w_{u, v}$份体力。当然，青蛙还可以进行跳跃：在两个深度相差恰好为$k$的节点之间是可以通过一次跳跃到达的，每次跳跃花费$p$份体力。请问从起点到终点最少花费多少份体力？

#### 输入格式
输入文件为`guagua.in`
输入包含$T$组测试数据 $(T \leq 5)$
对于每组数据，第一行为正整数$n$
接着$n - 1$行每行包含一条边的信息
三个正整数，对应$u, v, w_{u, v}$ $(1 \leq u \leq n; 1 \leq v \leq n; u \neq v)$
再然后有一行包含两个正整数$k$和$p$
最后一行为正整数$s$和$t$ $(1 \leq s \leq n; 1 \leq t \leq n; s \neq t)$

#### 输出格式
输出文件为`guagua.out`
对于每组数据输出一个整数

#### 输入输出样例

##### 输入输出样例1
| `guagua.in`                                                                                          | `guagua.out` |
| :--------------------------------------------------------------------------------------------------- | :----------- |
| `1`<br />`6`<br />`6 1 2`<br />`3 5 2`<br />`2 4 6`<br />`5 2 2`<br />`5 6 20`<br />`3 8`<br />`6 5` | `12`         |

###### 说明
从$6$号到$1$号花费$2$份体力
从$1$号到$2$号花费$8$份体力
从$2$号到$5$号花费$2$份体力
总共$2 + 8 + 2 = 12$份体力

#### 数据规模与约定
对于$20\%$数据 $k = 1$
对于$30\%$数据 $n \leq 2000$
对于$100\%$数据 $n \leq 100000; k \leq n; w_{u, v} \leq 100000; p \leq 100000$

-----

### 曼哈顿的数学家 `mama.cpp`

#### 问题描述
纽约的曼哈顿岛上，道路都是横平竖直，街道名字由编号组成，类似坐标系统。南北方向的路编号为`第1大道`，`第2大道`，`第3大道`，...东西方向的路编号为`第1大街`，`第2大街`，`第3大街`，...`曼哈顿距离`是从某个路口到另一个路口的最短行走距离。假设曼哈顿岛上共有$m \times m$个格点作为路口，有一位数学家经常会去$n$个不同的路口，这些路口的坐标已知。现在数学家希望在这$n$个路口里找到三个不同的路口，两两之间会组成三个`曼哈顿距离`，对这三个距离从小到大排序后得到$d_1 \leq d_2 \leq d_3$。如果要求$d_2$必须是质数，共有几种选择路口的方案？

#### 输入格式
输入文件为`mama.in`
第一行为正整数$n$和$m$
接着$n$行每行包含一个路口的信息：$2$个正整数$x$和$y$ $(1 \leq x, y \leq m)$

#### 输出格式 
输出文件为`mama.out`输出一个整数

#### 输入输出样例

##### 输入输出样例1

| `mama.in`                              | `mama.out` |
| :------------------------------------- | :--------- |
| `3 3`<br />`1 1`<br />`2 2`<br />`3 3` | `1`        |

###### 说明
两两之间共三个曼哈顿距离为$2, 2, 4$

#### 数据规模与约定
对于$10\%$数据 $n = 3$
对于$20\%$数据 $n \leq 300$
对于$100\%$数据 $n\ leq 2000; m \leq 100000$

-----

### 似曾相识 `dejavu.cpp`

#### 问题描述
村子里共有$n$个路口和$m$条双向道路。路口编号$1$到$n$。若$u$号路口和$v$号路口之间有一条道路直接相连，则$u$和$v$就是一对邻居，$neighbor(u, v) = 1$，否则$neighbor(u, v) = 0$。对于某$u$号路口和$v$号路口，如果任意其他$w$号路口$(w \neq u; w \neq v)$都满足$neighbor(u, w) = neighbor(v, w)$，那$u$号路口和$v$号路口就形成了一对`似曾相识`的路口。请问一共有多少对`似曾相识`的路口？

#### 输入格式
输入文件为`dejavu.in`
第一行为正整数$n$和$m$
接着$m$行每行包含一条道路信息：$2$个不同的正整数$u, v (1 \leq u, v \leq n)$
注意：两个路口之间可能存在多条道路

#### 输出格式
输出文件为`dejavu.out`
输出一个整数

#### 输入输出样例

##### 输入输出样例1
| `dejavu.in`                                       | `dejavu.out` |
| :------------------------------------------------ | :----------- |
| `3 4`<br />`1 2`<br />`2 3`<br />`1 3`<br />`1 2` | `3`          |

##### 输入输出样例2
| `dejavu.in`                 | `dejavu.out` |
| :-------------------------- | :----------- |
| `3 2`<br />`1 2`<br />`2 3` | `1`          |

###### 说明
$1$号和$2$号形成一对`似曾相识`的路口

#### 数据规模与约定 
对于$30\%$数据 $n \leq 500$
对于$10\%$数据 $n = 10000$
对于$10\%$数据 $n = 5000$
对于$100\%$数据 $n \leq 1000000; m \leq 1000000$

-----

### 校友捐款 `donation.cpp`

#### 问题描述
你所在的大学是一所一流高校，今年的毕业生都找到了很好的工作，毕业生在拿到工作录取后纷纷填写了问卷调查，告诉母校一年的工资是多少？截止到目前共收到$n$份信息，依次对应编号$1$号到$n$号，其中$i$号学生的工资为正整数$x_{i}$元。这些学生都热爱自己的母校，他们一拿到工资就会拼命捐款给母校，每一笔捐款数额恰好为$m$元，具体数值未知，捐款后$i$号学生的剩余存款就是$x_{i}$除以$m$的余数。你希望从中挑出$y$个人，满足：存在某一个大于$1$的正整数$m$，使得这$y$个人的工资模$m$同余。请首先输出$y$最多可以是多少。对于这个$y$的最大值，可能取数方案唯一，也可能有多种取数的方案，请再输出对应$m$的最大值

#### 输入格式
输入文件为`donation.in`
输入第一行为正整数$n (2 \leq n)$
第二行为$n$个正整数代表$x_{i} (x_{i} \leq 10000000)$
保证不会出现答案$y$对应的$x_{i}$全部相同的情况

#### 输出格式
输出文件为`donation.out`
输出$2$个整数$y$和$m$

#### 输入输出样例

##### 输入输出样例1
| `donation.in`            | `donation.out` |
| :----------------------- | :------------- |
| `6`<br />`7 4 1 0 8 7 1` | `5 3`          |

###### 说明
取五个数$7, 4, 10, 7, 1$模$3$同余

#### 数据规模与约定
对于$10\%$数据 $n \leq 10$
对于$10\%$数据 $n \leq 20$
对于$10\%$数据 $n \leq 50$
对于$100\%$数据 $n \leq 100000$
