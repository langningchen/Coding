# 2563 重链剖分3

## 题目描述

今天我们来学习树的重链剖分：如何将一棵树剖分成若干链条。对于每个节点u，在u的儿子里，选取子树节点最多的儿子叫做“重儿子”。如果两个儿子对应子树大小相同，我们约定选取编号较小的儿子为“重儿子”。u的其他儿子都称为“轻儿子”。&nbsp;每个节点和它“重儿子”之间的连边称作“重边”，每个节点和它“轻儿子”之间的连边称作“轻边”。将相邻的“重边”连接起来，就形成了“重链”。注意，另外还有种特殊的“重链”只包含1个节点：如果叶节点v是其他节点的轻儿子时，v就形成了单个节点的特殊“重链”。已知一棵树共n个节点，编号1到n，根节点是1号。现在共有m个关于“路径剖分”的问询，每个问询形式为：对于节点x和y，从x到y的路径共经过几条不同的重链。

## 输入格式

输入文件 pathdecomposition.in 输入第一行为正整数n，n<=100000。之后共n-1行，每行为2个正整数u,v表示u和v之间有一条连边。接着一行为正整数m，m<=100000。之后共m行，每行为两个正整数x,y表示问询关于x到y的路径。

## 输出格式

输出文件pathdecomposition.out 输出一行共m个正整数，由空格隔开，代表答案。

## 输入输出文件

`pathdecomposition`

## 输入输出样例

输入 #1
```
6
1 2
2 3
2 4
1 5
5 6
3
3 6
4 5
1 3
```
输出 #1
```
2 3 1
```

## 其他数据

|项目|值|
|:---:|:---:|
|难度|<span style="text-align: center; display: inline-block; border-radius: 3px; color: white; width: 120px; height: 24px; background-color: yellowgreen">普及+/提高</span>|
|提交次数|$179$|
|提交人数|$106$|
|通过人数|$104$|
|通过率|$98.1\%$|

